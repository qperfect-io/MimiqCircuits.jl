<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Import &amp; Export Circuits · MimiqCircuits.jl</title><meta name="title" content="Import &amp; Export Circuits · MimiqCircuits.jl"/><meta property="og:title" content="Import &amp; Export Circuits · MimiqCircuits.jl"/><meta property="twitter:title" content="Import &amp; Export Circuits · MimiqCircuits.jl"/><meta name="description" content="Documentation for MimiqCircuits.jl."/><meta property="og:description" content="Documentation for MimiqCircuits.jl."/><meta property="twitter:description" content="Documentation for MimiqCircuits.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="MimiqCircuits.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">MimiqCircuits.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">MIMIQ Documentation</a></li><li><a class="tocitem" href="../../quick_start/">Quick start</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../overview/">Overview</a></li><li><a class="tocitem" href="../circuits/">Circuits</a></li><li><a class="tocitem" href="../unitary_gates/">Unitary Gates</a></li><li><a class="tocitem" href="../non_unitary_ops/">Non-unitary Operations</a></li><li><a class="tocitem" href="../noise/">Noise</a></li><li><a class="tocitem" href="../symbolic_ops/">Symbolic Operations</a></li><li><a class="tocitem" href="../statistical_ops/">Statistical Operations</a></li><li><a class="tocitem" href="../special_ops/">Special Operations</a></li><li><a class="tocitem" href="../simulation/">Simulating Circuits</a></li><li><a class="tocitem" href="../remote_execution/">Cloud Execution</a></li><li class="is-active"><a class="tocitem" href>Import &amp; Export Circuits</a><ul class="internal"><li><a class="tocitem" href="#ProtoBuf"><span>ProtoBuf</span></a></li><li><a class="tocitem" href="#OpenQASM"><span>OpenQASM</span></a></li><li><a class="tocitem" href="#Stim"><span>Stim</span></a></li></ul></li><li><a class="tocitem" href="../special_topics/">Special Topics</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Library</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../library/outline/">Outline</a></li><li><a class="tocitem" href="../../library/mimiqcircuits/">MimiqCircuits</a></li><li><a class="tocitem" href="../../library/mimiqlink/">MimiqLink</a></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">MimiqCircuitsBase</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../library/mimiqcircuitsbase/general/">General functions</a></li><li><a class="tocitem" href="../../library/mimiqcircuitsbase/circuits/">Quantum Circuits and Instructions</a></li><li><a class="tocitem" href="../../library/mimiqcircuitsbase/operations/">Operations</a></li><li><a class="tocitem" href="../../library/mimiqcircuitsbase/standard/">Standard Gates</a></li><li><a class="tocitem" href="../../library/mimiqcircuitsbase/generalized/">Generalized gates</a></li><li><a class="tocitem" href="../../library/mimiqcircuitsbase/other/">Other Operations</a></li><li><a class="tocitem" href="../../library/mimiqcircuitsbase/noise/">Noise</a></li><li><a class="tocitem" href="../../library/mimiqcircuitsbase/operators/">Operators</a></li><li><a class="tocitem" href="../../library/mimiqcircuitsbase/bitstrings/">Bit Strings</a></li><li><a class="tocitem" href="../../library/mimiqcircuitsbase/results/">Quantum Circuit Simulation Results</a></li></ul></li><li><a class="tocitem" href="../../library/internals/">Internals</a></li><li><a class="tocitem" href="../../library/function_index/">Function Index</a></li></ul></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Import &amp; Export Circuits</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Import &amp; Export Circuits</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/qperfect-io/MimiqCircuits.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/qperfect-io/MimiqCircuits.jl/blob/main/docs/src/manual/import_export.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Import-and-export-circuits"><a class="docs-heading-anchor" href="#Import-and-export-circuits">Import and export circuits</a><a id="Import-and-export-circuits-1"></a><a class="docs-heading-anchor-permalink" href="#Import-and-export-circuits" title="Permalink"></a></h1><p>In this section we introduce different options to import and export circuits. In particular, MIMIQ allows to import circuits in well-known languages such as OpenQASM and Stim, as well as save and import circuits using its own ProtoBuf structure.</p><ul><li><a href="#import-and-export-circuits">Import and export circuits</a><ul><li><a href="#protobuf">ProtoBuf</a><ul><li><a href="#export-protobuf-files-from-mimiq">Export ProtoBuf files from MIMIQ</a></li><li><a href="#import-protobuf-file-to-mimiq">Import ProtoBuf file to MIMIQ</a></li></ul></li><li><a href="#openqasm">OpenQASM</a><ul><li><a href="#execute-openqasm-file-in-mimiq">Execute OpenQASM file in MIMIQ</a><ul><li><a href="#behaviour-of-include-files">Behaviour of include files</a></li><li><a href="#relations-between-openqasm-registers-and-mimiq-indices">Relations between OpenQASM registers and MIMIQ indices</a></li></ul></li></ul></li><li><a href="#stim">Stim</a><ul><li><a href="#execute-stim-file-on-mimiq">Execute Stim file on MIMIQ</a></li></ul></li></ul></li></ul><h2 id="ProtoBuf"><a class="docs-heading-anchor" href="#ProtoBuf">ProtoBuf</a><a id="ProtoBuf-1"></a><a class="docs-heading-anchor-permalink" href="#ProtoBuf" title="Permalink"></a></h2><h3 id="Export-ProtoBuf-files-from-MIMIQ"><a class="docs-heading-anchor" href="#Export-ProtoBuf-files-from-MIMIQ">Export ProtoBuf files from MIMIQ</a><a id="Export-ProtoBuf-files-from-MIMIQ-1"></a><a class="docs-heading-anchor-permalink" href="#Export-ProtoBuf-files-from-MIMIQ" title="Permalink"></a></h3><p>After building a circuit in MIMIQ you can export it into a ProtoBuf format using the <a href="../../library/mimiqcircuitsbase/general/#MimiqCircuitsBase.saveproto">saveproto</a> function. You need to give it two arguments, the name of the file to create (<code>.pb</code> format) and the circuit to save.</p><pre><code class="language-julia hljs">saveproto(&quot;my_circuit.pb&quot;, circuit)</code></pre><p>The same method allows you to save your simulation results in a ProtoBuf file.</p><pre><code class="language-julia hljs"># get the results
results = getresults(conn, job)
# save the results
saveproto(&quot;my_results.pb&quot;, results)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>ProtoBuf is a serialized file format developed by google. It is very lightweight and efficient to parse. Check the  <a href="https://github.com/protocolbuffers/protobuf">ProtoBuf repository</a> for more information.</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>You can only export a circuit into ProtoBuf format and cannot export an OpenQASM or Stim file in the current version of MIMIQ.</p></div></div><h3 id="Import-ProtoBuf-file-to-MIMIQ"><a class="docs-heading-anchor" href="#Import-ProtoBuf-file-to-MIMIQ">Import ProtoBuf file to MIMIQ</a><a id="Import-ProtoBuf-file-to-MIMIQ-1"></a><a class="docs-heading-anchor-permalink" href="#Import-ProtoBuf-file-to-MIMIQ" title="Permalink"></a></h3><p>MIMIQ allows you to import ProtoBuf files using the <a href="../../library/mimiqcircuitsbase/general/#MimiqCircuitsBase.loadproto">loadproto</a> function. With this function you can get previously saved circuit or get previous simulation results. You need to give this function the name of the file to parse and the type of object to parse.</p><pre><code class="language-julia hljs"># Import circuit from ProtoBuf to MIMIQ
circuit = loadproto(&quot;my_circuit.pb&quot;, Circuit) # Do not instatiate the Circuit

# Import results from ProtoBuf to MIMIQ
results = loadproto(&quot;my_results.pb&quot;, QCSResults)</code></pre><details class="admonition is-details"><summary class="admonition-header">Details</summary><div class="admonition-body"><p>Alternatively to import results you can also use the <a href="../../library/mimiqcircuits/#MimiqCircuits.loadresults-Tuple{AbstractString}">loadresults</a> function.</p></div></details><p>The circuit imported with <a href="../../library/mimiqcircuitsbase/general/#MimiqCircuitsBase.loadproto">loadproto</a> can be manipulated like any other circuit on MIMIQ to add or insert gates, see <a href="../circuits/">circuit</a> page.</p><h2 id="OpenQASM"><a class="docs-heading-anchor" href="#OpenQASM">OpenQASM</a><a id="OpenQASM-1"></a><a class="docs-heading-anchor-permalink" href="#OpenQASM" title="Permalink"></a></h2><p>Open Quantum Assembly Language is a programming language designed for describing quantum circuits and algorithms for execution on quantum computers. It is a very convenient middle ground for different quantum computer architectures to interpret and execute circuits.</p><h3 id="Execute-OpenQASM-file-in-MIMIQ"><a class="docs-heading-anchor" href="#Execute-OpenQASM-file-in-MIMIQ">Execute OpenQASM file in MIMIQ</a><a id="Execute-OpenQASM-file-in-MIMIQ-1"></a><a class="docs-heading-anchor-permalink" href="#Execute-OpenQASM-file-in-MIMIQ" title="Permalink"></a></h3><p>The remote MIMIQ services can readily process and execute OpenQASM files, thanks to fast and feature-complete Julia and C++ parsers and interpreters.</p><p>Here is a simple comprehensive example of executing a QASM file on MIMIQ.</p><pre><code class="language-julia hljs"># after connecting to MIMIQ
#
# ...

qasm = &quot;&quot;&quot;
// Implementation of Deutsch algorithm with two qubits for f(x)=x
// taken from https://github.com/pnnl/QASMBench/blob/master/small/deutsch_n2/deutsch_n2.qasm
OPENQASM 2.0;
include &quot;qelib1.inc&quot;;

qreg q[2];
creg c[2];

x q[1];
h q[0];
h q[1];
cx q[0],q[1];
h q[0];
measure q[0] -&gt; c[0];
measure q[1] -&gt; c[1];
&quot;&quot;&quot;

# Write the OPENQASM as a file
open(&quot;/tmp/deutsch_n2.qasm&quot;, &quot;w&quot;) do io
    write(io, qasm)
end

# actual execution of the QASM file
job = executeqasm(conn, &quot;/tmp/deutsch_n2.qasm&quot;; algorithm=&quot;statevector&quot;)
res = getresult(conn, job)
plot(res)</code></pre><img src="df282331.svg" alt="Example block output"/><p>For more informations, read the documentation of <a href="../../library/mimiqcircuits/#MimiqCircuits.execute"><code>execute</code></a> and check the <a href="../remote_execution/">remote execution</a> page.</p><h4 id="Behaviour-of-include-files"><a class="docs-heading-anchor" href="#Behaviour-of-include-files">Behaviour of include files</a><a id="Behaviour-of-include-files-1"></a><a class="docs-heading-anchor-permalink" href="#Behaviour-of-include-files" title="Permalink"></a></h4><p>A common file used by many QASM files is the <code>qelib1.inc</code> file. This file is not defined as being part of OpenQASM 2.0, but its usage is so widespread that it might be considered as de-facto part of the specifications.</p><details class="admonition is-details"><summary class="admonition-header">Details</summary><div class="admonition-body"><p>We remind the careful reader that OpenQASM 2.0 specifications only define 6 operations: <code>U</code>,<code>CX</code>, <code>measure</code>, <code>reset</code>, <code>barrier</code> and <code>if</code>.</p></div></details><p>If we were to parse every file together with <code>qelib1.inc</code>, we would have at the end just a list of simple <code>U</code> and <code>CX</code> gates, leaving behind any speed improvement that we would gain by using more complex gates as blocks. For this reason, if you don&#39;t explicitly provide the include files, MIMIQ will not parse the usual <code>qelib1.inc</code> file but will instead use a simplified version of it, where almost all gate definitions are replaced by <code>opaque</code> definitions. These opaque definitions will be converted to the corresponding MIMIQ gates listed in <a href="../../library/mimiqcircuitsbase/operations/#MimiqCircuitsBase.GATES"><code>GATES</code></a>.</p><p>Another alternative is to use the <code>mimiqlib.inc</code> directly in your file. For now it&#39;s almost a copy of the modified <code>qelib1.inc</code> but in the future it will be extended to contain more gates and operations, diverging from <code>qelib1.inc</code>.</p><h4 id="Relations-between-OpenQASM-registers-and-MIMIQ-indices"><a class="docs-heading-anchor" href="#Relations-between-OpenQASM-registers-and-MIMIQ-indices">Relations between OpenQASM registers and MIMIQ indices</a><a id="Relations-between-OpenQASM-registers-and-MIMIQ-indices-1"></a><a class="docs-heading-anchor-permalink" href="#Relations-between-OpenQASM-registers-and-MIMIQ-indices" title="Permalink"></a></h4><p>During the parsing of the QASM file, we will assign a unique index to each qubit and classical bit. This index will be used to identify the qubit or bit in the MIMIQ service. The indices are assigned in the following way:</p><ul><li>The first qubit is assigned index <code>1</code> (Julia), the second <code>2</code>, and so on.</li><li>All registers retain the same ordering as in the QASM file.</li><li>Qubits and classical bits behave similarly but each has its own sequence of indices, starting from <code>1</code>.</li></ul><p>A simple example will clarify this behaviour:</p><pre><code class="language-qasm hljs">OPENQASM 2.0;
qreg q[2];
creg m[10];
qreg a[10];
creg g[2];</code></pre><p>Will be parsed as:</p><table><tr><th style="text-align: right">QASM name</th><th style="text-align: right">MIMIQ Qubit index</th><th style="text-align: right">MIMIQ Bit index</th></tr><tr><td style="text-align: right"><code>q[0]</code></td><td style="text-align: right"><code>1</code></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>q[1]</code></td><td style="text-align: right"><code>2</code></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>a[0]</code></td><td style="text-align: right"><code>3</code></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>a[1]</code></td><td style="text-align: right"><code>4</code></td><td style="text-align: right"></td></tr><tr><td style="text-align: right">...</td><td style="text-align: right">...</td><td style="text-align: right">...</td></tr><tr><td style="text-align: right"><code>a[9]</code></td><td style="text-align: right"><code>12</code></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>m[0]</code></td><td style="text-align: right"></td><td style="text-align: right"><code>1</code></td></tr><tr><td style="text-align: right"><code>m[1]</code></td><td style="text-align: right"></td><td style="text-align: right"><code>2</code></td></tr><tr><td style="text-align: right">...</td><td style="text-align: right">...</td><td style="text-align: right">...</td></tr><tr><td style="text-align: right"><code>m[9]</code></td><td style="text-align: right"></td><td style="text-align: right"><code>10</code></td></tr><tr><td style="text-align: right"><code>g[0]</code></td><td style="text-align: right"></td><td style="text-align: right"><code>11</code></td></tr><tr><td style="text-align: right"><code>g[1]</code></td><td style="text-align: right"></td><td style="text-align: right"><code>12</code></td></tr></table><h2 id="Stim"><a class="docs-heading-anchor" href="#Stim">Stim</a><a id="Stim-1"></a><a class="docs-heading-anchor-permalink" href="#Stim" title="Permalink"></a></h2><h3 id="Execute-Stim-file-on-MIMIQ"><a class="docs-heading-anchor" href="#Execute-Stim-file-on-MIMIQ">Execute Stim file on MIMIQ</a><a id="Execute-Stim-file-on-MIMIQ-1"></a><a class="docs-heading-anchor-permalink" href="#Execute-Stim-file-on-MIMIQ" title="Permalink"></a></h3><p><a href="https://github.com/quantumlib/Stim">Stim</a> is a fast stabilizer circuit simulator commonly used for Clifford circuit simulation. Stim allows users to export their circuit to a text format usually with the <code>.stim</code> extension. The remote MIMIQ services can readily process and execute Stim files as follows:</p><pre><code class="language-julia hljs">job = execute(conn, &quot;my_stim_circuit.stim&quot;)</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>The support of Stim is still in progress and some of the most specific Stim features are not supported. For instance, detectors will be completely ignored by MIMIQ at exectution time.</p></div></div><p>The results of the simulation can be accessed as usual on MIMIQ, see <a href="../remote_execution/">remote execution</a> page.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../remote_execution/">« Cloud Execution</a><a class="docs-footer-nextpage" href="../special_topics/">Special Topics »</a><div class="flexbox-break"></div><p class="footer-message">Copyright 2021-2024 QPerfect. All rights reserved.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Sunday 24 November 2024 21:02">Sunday 24 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
